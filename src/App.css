:root{
  --bg1: linear-gradient(135deg,#0f172a 0%,#07102b 40%, #001219 100%);
  --card: rgba(255,255,255,0.05);
  --accent: #7c3aed; /* vibrant purple */
  --accent-2: #06b6d4; /* cyan */
  --muted: #9aa4b2;
  --glass: rgba(255,255,255,0.04);
}

*{box-sizing:border-box}
.no-select{ -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
.selectable{ -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }
.container{
  /* allow container to expand wider to the right; use nearly full viewport width with side gutters */
  max-width: none;
  width: calc(100% - 48px);
  margin:40px 24px;
  padding:28px;
  border-radius:14px;
  /* transparent container so body gradient shows across the whole viewport while scrolling */
  background: transparent;
  box-shadow: none;
  border: 1px solid rgba(255,255,255,0.02);
}

html, body, #root { height: 100%; }
/* apply gradient to root to ensure it persists while scrolling */
html{
  background: radial-gradient(ellipse at top left, rgba(124,58,237,0.22) 0%, rgba(6,182,212,0.14) 18%, rgba(2,6,23,0.95) 65%),
              linear-gradient(180deg,#07102b 0%, #001219 100%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
}
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
  /* full-page multi-stop gradient that stays fixed while scrolling */
  background: transparent;
  background-repeat: no-repeat;
  background-size: cover;
  background-attachment: fixed;
  color: #e6eef8;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100vh;
  display:flex;
  align-items:stretch;
}
.container-inner{
  max-width:1100px;
  margin:40px auto;
  padding:28px;
}
h1{margin:0 0 14px 0;font-weight:700;color:linear-gradient(90deg,var(--accent),var(--accent-2));font-size:28px}

.login-form{max-width:420px;margin:0 auto;display:flex;flex-direction:column;gap:10px}
.login-form input{padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.03);color:#f8fbff}
.login-form button{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
.login-form button:disabled{opacity:.6;cursor:default}
.error{color:#ff6b6b}

.curve-container{margin-top:18px;padding:16px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 6px 28px rgba(2,6,23,0.6);}

.app-header{display:flex;align-items:center;gap:16px;margin-bottom:8px}
.brand-logo{width:84px;height:84px;object-fit:contain;border-radius:8px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 6px 18px rgba(2,6,23,0.5);} 
.subtitle{color:var(--muted);font-size:13px;margin-top:4px}

label{display:block;margin:8px 0 6px 0;color:var(--muted)}
select{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.12);background:rgba(0,0,0,0.25);color:#eef6ff}
select option{color:#0b1220;background:transparent}

/* default table styles are overridden for raw data card; keep neutral defaults */
table{width:100%;margin-top:8px;border-collapse:collapse;color:var(--bg1)}
thead tr{background:rgba(255,255,255,0.06)}
td, th{padding:8px 10px;border:1px solid rgba(255,255,255,0.06);vertical-align:top;background:rgba(255,255,255,0.02);color:#e6eef8}
td:first-child, th:first-child{width:220px;color:#eaf2ff;font-weight:600}

.curve-container h3{margin:0 0 10px 0}

/* small responsive tweaks */
@media (max-width:700px){
  .container-inner{padding:16px;margin:16px}
  td:first-child{width:140px}
}

/* Centered overlay for login */
.login-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(2,6,23,0.65);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  z-index:60;
  padding:24px;
}
.login-modal{background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));padding:18px;border-radius:12px;box-shadow:0 20px 60px rgba(2,6,23,0.85);min-width:320px;max-width:640px;width:100%;}
.login-modal .login-header{display:flex;align-items:center;gap:18px;margin-bottom:14px}
.login-form{background:transparent;padding:0;border-radius:0;box-shadow:none;min-width:0}
.login-form h2{margin:6px 0 8px 0}

/* enlarge logo when inside the modal */
.login-modal .brand-logo{width:110px;height:110px;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,0.08);box-shadow:0 10px 34px rgba(2,6,23,0.7);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:6px}

/* company name next to logo in modal */
.company-name{margin-top:6px;color:var(--accent);font-weight:900;font-size:28px;letter-spacing:0.4px}

/* small brand mark fixed at bottom-right */
.corner-logo{position:fixed;right:14px;bottom:14px;width:32px;height:32px;object-fit:cover;border-radius:6px;box-shadow:0 6px 18px rgba(2,6,23,0.6);opacity:0.95;z-index:70}

/* GIS badge shown after login in the top-right */
.top-gis{display:none}
@media (max-width:480px){.top-gis{display:none}}

/* GIS icon placed inside header next to company name */
.header-gis{width:112px;height:112px;object-fit:contain;border-radius:12px;cursor:pointer;box-shadow:0 12px 40px rgba(0,0,0,0.6);margin-left:auto;align-self:center;transition:transform .12s ease, box-shadow .12s ease}
.header-gis:hover{transform:scale(1.04);box-shadow:0 18px 56px rgba(0,0,0,0.7)}
@media (max-width:980px){.header-gis{width:96px;height:96px}}
@media (max-width:480px){.header-gis{width:72px;height:72px}}

/* ensure select and table text are readable in dark bg */
.container, .container-inner { color: #e6eef8 }
.app-header h1{color:#eaf2ff}

/* layout for main content: plot and raw table side-by-side */
.visual-row{display:flex;gap:1cm;align-items:stretch;justify-content:flex-start;flex-wrap:nowrap}
.visual-row.centered{justify-content:center}
.visual-row.visual-stack{flex-direction:column;align-items:center}
.plot-area{flex:1 1 70%;min-width:560px;max-width:none;display:flex;justify-content:flex-start}
.plot-area.centered{display:flex;justify-content:center}
.rawdata-area{flex:0 0 30%;min-width:300px;max-width:640px;margin:0;display:flex;align-items:flex-start}
.rawdata-card.expanded{width:100%;box-shadow:0 12px 48px rgba(2,6,23,0.65);border-radius:10px;padding:18px;min-height:420px}
.rawdata-card{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
.raw-table{width:100%;border-collapse:collapse;margin-top:8px;table-layout:fixed}
.raw-table td{word-break:break-word}
.raw-table th{background:rgba(255,255,255,0.04);text-align:left;padding:8px;color:#e6eef8;font-size:13px}
.raw-table td{padding:6px;border-top:1px solid rgba(255,255,255,0.03);color:#e6eef8;font-size:13px}
.raw-table th:nth-child(1){width:18%}
.raw-table th:nth-child(2){width:14%}
.raw-table th:nth-child(3){width:14%}
.raw-table th:nth-child(4){width:24%}
.raw-table th:nth-child(5){width:20%}
.raw-table th:nth-child(6){width:10%}
.col-value{color:#eaf2ff;word-break:break-word}

/* horizontal scroll wrapper for large tables */
.table-scroll{overflow-x:auto;overflow-y:hidden;padding-bottom:6px;-webkit-overflow-scrolling:touch}
.table-scroll::-webkit-scrollbar{height:8px}
.table-scroll::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:8px}
.raw-table{min-width:980px}

/* responsive tweaks */
@media (max-width:980px){
  .visual-row{flex-direction:column}
  .rawdata-area{width:100%;flex:1}
}

/* Mobile-specific fixes: ensure plot and tables stack and do not force layout overflow */
@media (max-width:700px){
  .visual-row{flex-direction:column;gap:12px;align-items:stretch}
  /* allow plot to shrink on small screens */
  .plot-area{min-width:0;width:100%}
  .plot-area.centered{justify-content:center}
  .curve-container{width:100%;padding:8px}

  /* rawdata/right column becomes full width below the plot */
  .rawdata-area{flex:none;width:100%;min-width:0;max-width:none;margin-top:8px}

  /* tables should adapt on small screens rather than forcing a min-width */
  .raw-table{min-width:0;table-layout:auto}
  .xy-table{display:table;width:100%;table-layout:auto}
  .xy-table th, .xy-table td{white-space:normal;word-break:break-word}
  .xy-table th:first-child, .xy-table td:first-child{width:40%}
  .xy-table th:nth-child(2), .xy-table td:nth-child(2){width:60%}

  /* make the scroll wrapper allow horizontal scrolling if needed, but not force layout */
  .xy-table-scroll{max-width:100%;overflow-x:auto}

  /* reduce large gaps/paddings for mobile */
  .container{margin:12px;padding:12px}
  .login-modal{padding:14px}
}

/* select and option high contrast */
.sno-select{background:rgba(0,0,0,0.35);color:#eef6ff;border:1px solid rgba(255,255,255,0.12);padding:8px;border-radius:8px}
.sno-select option{color:#061425}

/* password toggle inside login form */
.password-wrapper{position:relative;display:flex;align-items:center}
.password-wrapper input{flex:1}
.password-toggle{position:absolute;right:10px;background:transparent;border:none;padding:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.password-toggle{position:absolute;right:10px;background:transparent;border:none;padding:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.password-toggle svg{opacity:0.95;width:16px;height:16px;color:#eaf2ff}
.password-toggle{padding:4px}
.password-toggle:focus{outline:2px solid rgba(124,58,237,0.25);border-radius:6px}

.visual-row{align-items:flex-start}
/* Final layout rules - ensure plot + table can expand to the right and do not get overridden later */
/* plot-area: larger primary flex so the plot can grow; rawdata-area: fixed but wider to accommodate XY table */
.plot-area{flex:1 1 auto;min-width:320px;max-width:none;display:flex;justify-content:flex-start}
.plot-area.centered{display:flex;justify-content:center}
.rawdata-area{flex:0 0 300px;min-width:240px;max-width:300px;margin:0;display:flex;align-items:flex-start;flex-direction:column;align-self:flex-start}
.xy-card{margin-top:16px;margin-bottom:14px} /* nudged down very slightly */
.meta-card{margin-bottom:0}

/* when enough horizontal space, keep XY stacked (one above the other) but ensure rawdata-area remains a right column */
@media (min-width:1300px){
  .rawdata-area{flex-direction:column}
  .rawdata-area .xy-card, .rawdata-area .meta-card{width:100%}
}

/* push the whole visual row to use available horizontal space and keep rawdata-area on the far right */
.visual-row{width:100%;}

/* XY table specific overrides: use sensible widths and allow wrapping for long numbers instead of forcing horizontal scroll */
.xy-table{width:100%;table-layout:fixed;border-collapse:collapse}
.xy-table th, .xy-table td{overflow:hidden;text-overflow:ellipsis;white-space:normal}
.xy-table th:first-child, .xy-table td:first-child{width:30%} /* Shift (X) column */
.xy-table th:nth-child(2), .xy-table td:nth-child(2){width:70%} /* Intensity (Y) column */

/* Main logged-in content: use full width and left-align so plot + table expand to the right */
.content-wrapper{width:100%;max-width:1600px;margin:0 auto;display:block}
.app-main{width:100%;display:flex;justify-content:flex-start}

/* Move the below-plot table slightly down */
.below-table{margin-top:22px}

/* Ensure the XY table scroll wrapper aligns to top-left so content sits flush right of the plot */
.rawdata-area{justify-content:flex-start}
.xy-table-scroll{display:block;margin-top:6px} /* small offset so the XY card sits a tiny bit lower */

/* Center the S.No controls and prevent overlap */
.controls{display:flex;gap:12px;justify-content:center;align-items:center;margin:14px 0}
.controls label{margin:0;color:#fff;font-weight:600}
.controls select{min-width:160px;max-width:260px;padding:8px 10px;border-radius:8px}

/* Center the sample title and curve container contents */
.curve-container{display:flex;flex-direction:column;align-items:center}
.curve-container h3{margin:0 0 12px 0;text-align:center;color:#fff}

/* Reduce global raw-table min-width to avoid forcing overlap on narrow screens */
.raw-table{min-width:420px}

/* increase table font-size for readability */
.raw-table td, .raw-table th{font-size:14px}

/* small muted label for DB column types in headers */
.col-type{font-size:11px;color:rgba(234,242,255,0.6);margin-left:6px;font-weight:600}


/* Globe modal styles */
.globe-modal-overlay{position:fixed;inset:0;background:rgba(2,6,23,0.7);z-index:200;display:flex;align-items:center;justify-content:center}
.globe-modal{position:relative;width:90vw;max-width:1200px;height:80vh;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 30px 90px rgba(2,6,23,0.85);overflow:hidden}
.globe-close{position:absolute;right:12px;top:12px;z-index:210;background:rgba(0,0,0,0.5);border:none;color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
.globe-map{width:100%;height:100%;background:#07102b}

/* DOM marker labels for map samples */
.sample-label{background:rgba(0,0,0,0.6);color:#fff;padding:4px 8px;border-radius:6px;font-size:12px;box-shadow:0 6px 18px rgba(0,0,0,0.6);white-space:nowrap}

/* popup content styling for maplibre popups */
.popup-content{font-family:'Poppins', Arial, sans-serif;color:#fff}
.popup-title{font-weight:700;margin-bottom:6px}
.popup-coords{font-size:12px;color:rgba(234,242,255,0.9)}

/* mini-map overlay shown when a globe point is clicked */
.mini-map-overlay{position:absolute;right:12px;bottom:12px;width:360px;height:240px;background:rgba(2,6,23,0.9);border-radius:10px;box-shadow:0 12px 40px rgba(0,0,0,0.6);z-index:220;overflow:hidden;border:1px solid rgba(255,255,255,0.04)}
.mini-map{width:100%;height:100%}
.mini-map-close{position:absolute;right:8px;top:8px;z-index:230;background:rgba(0,0,0,0.45);border:none;color:#fff;padding:6px 8px;border-radius:8px;cursor:pointer}




